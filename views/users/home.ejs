<%- include('userHeader') %>
<link
  rel="stylesheet"
  href="https://unpkg.com/swiper/swiper-bundle.min.css"
/>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>


<div>
<section style="position: relative; width: 100%;  overflow: hidden;">
   <!-- Image Container -->
   <div id="banner" style="position: relative; overflow: hidden; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
    <div id="slider" style="display: flex; transition: transform 1s ease;">
      <img src="/Images/bannerImage1.jpg" alt="Banner 1" style="width: 100%; height: 100%; object-fit: cover;">
      <img src="/Images/bannerImage2.jpg" alt="Banner 2" style="width: 100%; height: 100%; object-fit: cover;">
      <img src="/Images/bannerImage3.jpg" alt="Banner 2" style="width: 100%; height: 100%; object-fit: cover;">
      <!-- Add more images here -->
    </div>
  </div>
</section>


<section>
  <div class="container my-5 gruppo-regular">
      <h2 class="gruppo-regular text-center text-dark font-weight-bold" style="margin-bottom: 60px;">Top Categories</h2>
      <div id="topCategoriesCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
              <% 
                  
                  const itemsPerSlide = 4; // 4 items per slide
                  categoryProducts.forEach((cata, index) => {
                      const isStartOfSlide = index % itemsPerSlide === 0;
                      const isActive = index === 0; // First slide is active
                      if (isStartOfSlide) { 
              %>
                  <div class="carousel-item <%= isActive ? 'active' : '' %>">
                      <div class="d-flex flex-wrap justify-content-center">
              <% } %>
                          <div class="category-item mx-3 text-center">
                            <a href="/categoryWiseProducts/<%= cata.category %>">
                              <div class="rounded-circle custom-border mx-auto p-3">
                             
                                  <!-- <img src="<%= cata.image %>" alt="<%= cata.name %>" class="img-fluid" style="width: 100%; height: 100%; object-fit: cover;"> -->
                              
                              </div>
                            </a>
                              <p class="mt-3 text-primary"><%= cata.category %></p>
                          </div>
              <% 
                      const isEndOfSlide = (index + 1) % itemsPerSlide === 0 || index + 1 === categoryProducts.length;
                      if (isEndOfSlide) { 
              %>
                      </div>
                  </div>
              <% 
                      }
                  });
              %>
          </div>

          <!-- Carousel Controls -->
          <button class="carousel-control-prev" style="background-color: white;" type="button" data-bs-target="#topCategoriesCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(100%);"></span>
              <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" style="background-color: white;" type="button" data-bs-target="#topCategoriesCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(100%);"></span>
              <span class="visually-hidden">Next</span>
          </button>
      </div>
  </div>
</section>




<section>
  <div class="container py-4">
    <div class="row gy-4">
      <!-- Card 1 -->
      <div class="col-12 col-md-6">
        <div class="card bg-warning text-black rounded-lg p-4 d-flex align-items-center justify-content-between flex-row">
          <div>
            <h3 class="h4 fw-bold">50% Off on Electronics</h3>
            <p>Limited time offer!</p>
            <button class="btn btn-dark mt-3">Shop Now</button>
          </div>
          <img
            src="https://img.freepik.com/free-vector/special-offer-creative-sale-banner-design_1017-16284.jpg"
            alt="Electronics"
            class="rounded img-fluid"
            style="width: 120px;"
          />
        </div>
      </div>
      <!-- Card 2 -->
      <div class="col-12 col-md-6">
        <div class="card bg-success text-white rounded-lg p-4 d-flex align-items-center justify-content-between flex-row">
          <div>
            <h3 class="h4 fw-bold">Buy One Get One Free</h3>
            <p>On all clothing items!</p>
            <button class="btn btn-light text-success mt-3">Explore Now</button>
          </div>
          <img
            src="https://img.freepik.com/free-vector/buy-one-get-one-free-sale-banner_1017-28231.jpg"
            alt="Clothing"
            class="rounded img-fluid"
            style="width: 120px;"
          />
        </div>
      </div>
    </div>
  </div>
</section>



<section style="background-color: #f8f8f8; height: auto;">
  <div class="container my-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="gruppo-regular text-dark font-weight-bold underline-hover m-0" style="font-weight: 500;">
        Best Sellers
      </h2>
    </div>
    <!-- Swiper -->
    <div class="swiper">
      <div class="swiper-wrapper" style="margin-bottom: 30px;">
        <% bestSellerProducts.forEach(product => { %>
          <div class="swiper-slide product-card text-center">
            <a href="/productdetails/<%= product._id %>" class="d-block">
              <img src="<%= product.coverimage %>" alt="<%= product.name %>" class="product-image">
            </a>
          </div>
        <% }) %>
      </div>
    </div>
  </div>
</section>

  

  <section style="background-color: #f8f8f8; height: auto;">
    <div class="container my-5">
      <% categoryProducts.forEach((catData) => { %>
      <div class="mb-5">
        <!-- Category Title -->
        <div class="d-flex justify-content-between align-items-center mb-1" style="margin-top: 30px;">
          <h2 class="gruppo-regular font-weight-bold underline-hover m-0" style="font-weight: bolder; font-size: 25px; color: rgb(0, 98, 87);">
            <%= catData.category %> <svg xmlns="http://www.w3.org/2000/svg" viewBox="-8 -5 24 24" width="23" fill="currentColor"><path d="M5.314 7.071l-4.95-4.95A1 1 0 0 1 1.778.707l5.657 5.657a1 1 0 0 1 0 1.414l-5.657 5.657a1 1 0 0 1-1.414-1.414l4.95-4.95z"></path></svg>
          </h2>
          <a href="/categoryWiseProducts/<%= catData.category %>" class="text-dark font-weight-bold view-all-link" style="text-decoration: none;">
            View All
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="20" fill="currentColor">
              <path d="M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1.828-8.414l-3.95 3.95a1 1 0 1 1-1.414-1.415l3.95-3.95H6.828a1 1 0 1 1 0-2h6a.997.997 0 0 1 1 1v6a1 1 0 1 1-2 0V9.587z"></path>
            </svg>
          </a>
        </div>
  
        <!-- Swiper -->
        <div class="swiper">
          <div class="swiper-wrapper" style="margin-bottom: 29px;">
            <% catData.products.forEach((product) => { %>
            <div class="swiper-slide product-card text-center">

              <span 
              class="wishlist-icon position-absolute top-0 start-0 m-2" 
              onclick="toggleWishlist('<%= product.id %>', event)" 
              title="Add to Wishlist">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -4 24 24" width="28" fill="currentColor">
                <path d="M3.636 7.208L10 13.572l6.364-6.364a3 3 0 1 0-4.243-4.243L10 5.086l-2.121-2.12a3 3 0 0 0-4.243 4.242zM9.293 1.55l.707.707.707-.707a5 5 0 1 1 7.071 7.071l-7.07 7.071a1 1 0 0 1-1.415 0l-7.071-7.07a5 5 0 1 1 7.07-7.071z"></path>
              </svg>
            </span>

            <a href="/productdetails/<%= product._id %>" class="d-block">
              <img src="<%= product.coverimage %>" alt="<%= product.name %>" class="product-image">
            </a>
              <h6 class="mt-2 font-weight-bold"><%= product.name %></h6>
              <div class="price-container">
                <p class="text-muted offer-price">₹<%= product.price %></p>
                <span class="old-price">₹<%= product.offerPrice %></span>
              </div>
              <p class="remark text-success"><%= product.remark %></p>
              <% if (product.quantity === 0) { %>
                <button class="add-to-cart-btn disabled-btn gruppo-regular  bg-light text-danger" style="font-size: 15px;" disabled>Stock Out</button>
              <% } else { %>
                <button class="add-to-cart-btn gruppo-regular bg-light text-dark" style="font-size: 15px;" onclick="addToCart('<%= product.id %>', event)">Add to Cart</button>
              <% } %>
             
            </div>
            <% }) %>
          </div>       
          
        </div>
      </div>
      <% }) %>
    </div>
  </section>
  
  


  
  <footer class="main" style="background-color: #7f774ec4;">
    <section class="section-padding footer-mid">
        <div class="container pt-15 pb-20">
            <div class="row justify-content-center text-center text-md-start">
                <!-- About Section -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="widget-about font-md">
                        <div class="logo logo-width-1">
                            <h3><p class="gruppo-regular" style="color: black; font-size: 2rem;">E<span style="color: #ffffff;"> COMY</span></p></h3>
                        </div>
                        <h5 class="mt-20 mb-10 text-white gruppo-regular">Contact</h5>
                        <p class="text-white">
                            <strong class="text-dark gruppo-regular" style="font-size: 1.5rem;">Phone:</strong> 
                            <p class="text-white gruppo-regular" style="font-size: 1.5rem;">+91 0000000000</p>
                        </p>
                        <p class="text-white">
                            <strong class="text-dark gruppo-regular" style="font-size: 1.5rem;">Email:</strong> 
                            <a href="mailto:loviz@gmail.com" class="text-white gruppo-regular" style="font-size: 1.5rem;">demo@gmail.com</a>
                        </p>
                    </div>
                </div>
                <!-- About Links -->
                <div class="col-lg-2 col-md-3 col-sm-6 mb-4">
                    <h5 class="widget-title text-white gruppo-regular" style="font-size: 1.5rem;">About</h5>
                    <ul class="footer-list list-unstyled">
                        <li><a href="/contact-us" class="text-white amatic-sc-bold" style="font-size: 1.3rem;">Contact Us</a></li>
                        <li><a href="/terms&conditions" class="text-white amatic-sc-bold" style="font-size: 1.3rem;">Terms and Conditions</a></li>
                        <li><a href="/homeProduct" class="text-white amatic-sc-bold" style="font-size: 1.3rem;">Shop</a></li>
                        <li><a href="/refundPolicy" class="text-white amatic-sc-bold" style="font-size: 1.3rem;">Refund Policy</a></li>
                    </ul>
                </div>
                <!-- Account Links -->
                <div class="col-lg-2 col-md-3 col-sm-6 mb-">
                    <h5 class="widget-title text-white gruppo-regular" style="font-size: 1.5rem;">My Account</h5>
                    <ul class="footer-list list-unstyled">
                        <li><a href="/login" class="text-white amatic-sc-bold" style="font-size: 1.3rem;">Sign In</a></li>
                        <li><a href="/cart" class="text-white amatic-sc-bold" style="font-size: 1.3rem;">My Cart</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
  </footer>
  

</div>
 
    <!-- Vendor JS-->
    <script src="/user/assets/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="/user/assets/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="/user/assets/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="/user/assets/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="/user/assets/js/plugins/slick.js"></script>
    <script src="/user/assets/js/plugins/jquery.syotimer.min.js"></script>
    <script src="/user/assets/js/plugins/wow.js"></script>
    <script src="/user/assets/js/plugins/jquery-ui.js"></script>
    <script src="/user/assets/js/plugins/perfect-scrollbar.js"></script>
    <script src="/user/assets/js/plugins/magnific-popup.js"></script>
    <script src="/user/assets/js/plugins/select2.min.js"></script>
    <script src="/user/assets/js/plugins/waypoints.js"></script>
    <script src="/user/assets/js/plugins/counterup.js"></script>
    <script src="/user/assets/js/plugins/jquery.countdown.min.js"></script>
    <script src="/user/assets/js/plugins/images-loaded.js"></script>
    <script src="/user/assets/js/plugins/isotope.js"></script>
    <script src="/user/assets/js/plugins/scrollup.js"></script>
    <script src="/user/assets/js/plugins/jquery.vticker-min.js"></script>
    <script src="/user/assets/js/plugins/jquery.theia.sticky.js"></script>
    <script src="/user/assets/js/plugins/jquery.elevatezoom.js"></script>
    <!-- Template  JS -->
    <script src=".//user/assets/js/main.js?v=3.4"></script>
    <script src=".//user/assets/js/shop.js?v=3.4"></script>

    

<script src="/user/assets/js/userHome.js"></script>
</body>

</html>