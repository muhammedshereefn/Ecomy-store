<%- include('userHeader') %>
<link
  rel="stylesheet"
  href="https://unpkg.com/swiper/swiper-bundle.min.css"
/>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>


<div>
<section style="position: relative; width: 100%;  overflow: hidden;">
   <!-- Image Container -->
   <div id="banner" style="position: relative; overflow: hidden; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
    <div id="slider" style="display: flex; transition: transform 1s ease;">
      <img src="/Images/bannerImage1.jpg" alt="Banner 1" style="width: 100%; height: 100%; object-fit: cover;">
      <img src="/Images/bannerImage2.jpg" alt="Banner 2" style="width: 100%; height: 100%; object-fit: cover;">
      <img src="/Images/bannerImage3.jpg" alt="Banner 2" style="width: 100%; height: 100%; object-fit: cover;">
      <!-- Add more images here -->
    </div>
  </div>
</section>


<section>
  <div class="container my-5 gruppo-regular">
      <h2 class="gruppo-regular text-center text-dark font-weight-bold" style="margin-bottom: 60px;">Top Categories</h2>
      <div id="topCategoriesCarousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
              <% 
                  // Assuming categoryProducts is passed from the server as an array of category objects
                  // Each category has 'name' and 'image' properties
                  
                  const itemsPerSlide = 4; // 4 items per slide
                  categoryProducts.forEach((cata, index) => {
                      const isStartOfSlide = index % itemsPerSlide === 0;
                      const isActive = index === 0; // First slide is active
                      if (isStartOfSlide) { 
              %>
                  <div class="carousel-item <%= isActive ? 'active' : '' %>">
                      <div class="d-flex flex-wrap justify-content-center">
              <% } %>
                          <div class="category-item mx-3 text-center">
                              <div class="rounded-circle custom-border mx-auto p-3">
                                  <img src="<%= cata.image %>" alt="<%= cata.name %>" class="img-fluid" style="width: 100%; height: 100%; object-fit: cover;">
                              </div>
                              <p class="mt-3 text-primary"><%= cata.category %></p>
                          </div>
              <% 
                      const isEndOfSlide = (index + 1) % itemsPerSlide === 0 || index + 1 === categoryProducts.length;
                      if (isEndOfSlide) { 
              %>
                      </div>
                  </div>
              <% 
                      }
                  });
              %>
          </div>

          <!-- Carousel Controls -->
          <button class="carousel-control-prev" style="background-color: white;" type="button" data-bs-target="#topCategoriesCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(100%);"></span>
              <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" style="background-color: white;" type="button" data-bs-target="#topCategoriesCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(100%);"></span>
              <span class="visually-hidden">Next</span>
          </button>
      </div>
  </div>
</section>




<section>
  <div class="container py-4">
    <div class="row gy-4">
      <!-- Card 1 -->
      <div class="col-12 col-md-6">
        <div class="card bg-warning text-black rounded-lg p-4 d-flex align-items-center justify-content-between flex-row">
          <div>
            <h3 class="h4 fw-bold">50% Off on Electronics</h3>
            <p>Limited time offer!</p>
            <button class="btn btn-dark mt-3">Shop Now</button>
          </div>
          <img
            src="https://via.placeholder.com/150"
            alt="Electronics"
            class="rounded img-fluid"
            style="width: 120px;"
          />
        </div>
      </div>
      <!-- Card 2 -->
      <div class="col-12 col-md-6">
        <div class="card bg-success text-white rounded-lg p-4 d-flex align-items-center justify-content-between flex-row">
          <div>
            <h3 class="h4 fw-bold">Buy One Get One Free</h3>
            <p>On all clothing items!</p>
            <button class="btn btn-light text-success mt-3">Explore Now</button>
          </div>
          <img
            src="https://via.placeholder.com/150"
            alt="Clothing"
            class="rounded img-fluid"
            style="width: 120px;"
          />
        </div>
      </div>
    </div>
  </div>
</section>




  <section style="background-color: #f8f8f8; height: 345px;">
    <div class="container my-5">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="gruppo-regular text-dark font-weight-bold underline-hover m-0" style="font-weight: 500;">Best Sellers</h2>
        <a href="#" class="text-dark font-weight-bold view-all-link" style="text-decoration: none;">View All <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="20" fill="currentColor"><path d="M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1.828-8.414l-3.95 3.95a1 1 0 1 1-1.414-1.415l3.95-3.95H6.828a1 1 0 1 1 0-2h6a.997.997 0 0 1 1 1v6a1 1 0 1 1-2 0V9.587z"></path></svg></a>
      </div>
      <!-- Swiper -->
      <div class="swiper">
        <div class="swiper-wrapper">
          <!-- Product Card 1 -->
          <% products.filter(product => product.bestseller === true).forEach(product => { %>
            <div class="swiper-slide product-card text-center">
              <a href="/productdetails/<%= product._id %>" class="d-block">
              <img src="<%= product.coverimage %>" alt="<%= product.name %>" class="product-image">
            </a>
            </div>
          <% }) %>
        </div>
      </div>
    </div>
  </section>
  

  <section style="background-color: #f8f8f8; height: auto;">
    <div class="container my-5">
      <% categoryProducts.forEach((catData) => { %>
      <div class="mb-5">
        <!-- Category Title -->
        <div class="d-flex justify-content-between align-items-center mb-1" style="margin-top: 30px;">
          <h2 class="gruppo-regular text-dark font-weight-bold underline-hover m-0" style="font-weight: 500; font-size: 25px;">
            <%= catData.category %> <svg xmlns="http://www.w3.org/2000/svg" viewBox="-8 -5 24 24" width="23" fill="currentColor"><path d="M5.314 7.071l-4.95-4.95A1 1 0 0 1 1.778.707l5.657 5.657a1 1 0 0 1 0 1.414l-5.657 5.657a1 1 0 0 1-1.414-1.414l4.95-4.95z"></path></svg>
          </h2>
          <a href="#" class="text-dark font-weight-bold view-all-link" style="text-decoration: none;">
            View All
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" width="20" fill="currentColor">
              <path d="M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm1.828-8.414l-3.95 3.95a1 1 0 1 1-1.414-1.415l3.95-3.95H6.828a1 1 0 1 1 0-2h6a.997.997 0 0 1 1 1v6a1 1 0 1 1-2 0V9.587z"></path>
            </svg>
          </a>
        </div>
  
        <!-- Swiper -->
        <div class="swiper">
          <div class="swiper-wrapper">
            <% catData.products.forEach((product) => { %>
            <div class="swiper-slide product-card text-center">

              <span 
              class="wishlist-icon position-absolute top-0 start-0 m-2" 
              onclick="toggleWishlist('<%= product.id %>', event)" 
              title="Add to Wishlist">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="-2 -4 24 24" width="28" fill="currentColor">
                <path d="M3.636 7.208L10 13.572l6.364-6.364a3 3 0 1 0-4.243-4.243L10 5.086l-2.121-2.12a3 3 0 0 0-4.243 4.242zM9.293 1.55l.707.707.707-.707a5 5 0 1 1 7.071 7.071l-7.07 7.071a1 1 0 0 1-1.415 0l-7.071-7.07a5 5 0 1 1 7.07-7.071z"></path>
              </svg>
            </span>

            <a href="/productdetails/<%= product._id %>" class="d-block">
              <img src="<%= product.coverimage %>" alt="<%= product.name %>" class="product-image">
            </a>
              <h6 class="mt-2 font-weight-bold"><%= product.name %></h6>
              <div class="price-container">
                <p class="text-muted offer-price">₹<%= product.price %></p>
                <span class="old-price">₹<%= product.offerPrice %></span>
              </div>
              <p class="remark text-success"><%= product.remark %></p>
              <% if (product.quantity === 0) { %>
                <button class="add-to-cart-btn disabled-btn gruppo-regular old-price" style="font-size: 17px;" disabled>Stock Out</button>
              <% } else { %>
                <button class="add-to-cart-btn gruppo-regular" style="font-size: 17px;" onclick="addToCart('<%= product.id %>', event)">Add to Cart</button>
              <% } %>
             
            </div>
            <% }) %>
          </div>       
          
        </div>
      </div>
      <% }) %>
    </div>
  </section>
  
  


  
  <section style="background-color: #222; color: #fff; padding: 40px 0;">
    <div class="container">
      <div class="row">
        <!-- Logo and Brand Information -->
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="footer-logo">
            <img src="logo.png" alt="Brand Logo" class="img-fluid" style="max-width: 150px;">
            <p class="mt-3">We provide top-quality products to meet all your shopping needs. Trusted by customers worldwide.</p>
          </div>
        </div>
  
        <!-- Quick Links -->
        <div class="col-lg-2 col-md-6 mb-4">
          <h5>Quick Links</h5>
          <ul class="list-unstyled">
            <li><a href="#" style="color: #fff; text-decoration: none;">Home</a></li>
            <li><a href="#" style="color: #fff; text-decoration: none;">Shop</a></li>
            <li><a href="#" style="color: #fff; text-decoration: none;">About Us</a></li>
            <li><a href="#" style="color: #fff; text-decoration: none;">Contact</a></li>
          </ul>
        </div>
  
        <!-- Customer Service Links -->
        <div class="col-lg-2 col-md-6 mb-4">
          <h5>Customer Service</h5>
          <ul class="list-unstyled">
            <li><a href="#" style="color: #fff; text-decoration: none;">FAQ</a></li>
            <li><a href="#" style="color: #fff; text-decoration: none;">Returns</a></li>
            <li><a href="#" style="color: #fff; text-decoration: none;">Shipping</a></li>
            <li><a href="#" style="color: #fff; text-decoration: none;">Track Order</a></li>
          </ul>
        </div>
  
        <!-- Contact Information -->
        <div class="col-lg-2 col-md-6 mb-4">
          <h5>Contact Us</h5>
          <ul class="list-unstyled">
            <li><i class="bi bi-telephone" style="font-size: 16px;"></i> +123 456 7890</li>
            <li><i class="bi bi-envelope" style="font-size: 16px;"></i> support@ecommerce.com</li>
            <li><i class="bi bi-geo-alt" style="font-size: 16px;"></i> 123 E-commerce Street, City, Country</li>
          </ul>
        </div>
  
        <!-- Social Media Links -->
        <div class="col-lg-2 col-md-6 mb-4">
          <h5>Follow Us</h5>
          <div class="social-icons">
            <a href="#" class="text-white mr-3"><i class="bi bi-facebook" style="font-size: 24px;"></i></a>
            <a href="#" class="text-white mr-3"><i class="bi bi-twitter" style="font-size: 24px;"></i></a>
            <a href="#" class="text-white mr-3"><i class="bi bi-instagram" style="font-size: 24px;"></i></a>
            <a href="#" class="text-white mr-3"><i class="bi bi-linkedin" style="font-size: 24px;"></i></a>
          </div>
        </div>
      </div>
  
      <!-- Newsletter Subscription -->
      <div class="row">
        <div class="col-12 text-center mt-4">
          <h5>Stay Updated with Our Newsletter</h5>
          <form action="#" method="post" class="mt-3">
            <input type="email" class="form-control" placeholder="Enter your email" required style="max-width: 300px; display: inline-block;">
            <button type="submit" class="btn btn-primary">Subscribe</button>
          </form>
        </div>
      </div>
    </div>
  
    <!-- Copyright Section -->
    <div class="text-center mt-5">
      <p style="font-size: 14px; color: #bbb;">&copy; 2025 E-Commerce Website. All Rights Reserved.</p>
    </div>
  </section>
  

</div>
 
    <!-- Vendor JS-->
    <script src="/user/assets/js/vendor/modernizr-3.6.0.min.js"></script>
    <script src="/user/assets/js/vendor/jquery-3.6.0.min.js"></script>
    <script src="/user/assets/js/vendor/jquery-migrate-3.3.0.min.js"></script>
    <script src="/user/assets/js/vendor/bootstrap.bundle.min.js"></script>
    <script src="/user/assets/js/plugins/slick.js"></script>
    <script src="/user/assets/js/plugins/jquery.syotimer.min.js"></script>
    <script src="/user/assets/js/plugins/wow.js"></script>
    <script src="/user/assets/js/plugins/jquery-ui.js"></script>
    <script src="/user/assets/js/plugins/perfect-scrollbar.js"></script>
    <script src="/user/assets/js/plugins/magnific-popup.js"></script>
    <script src="/user/assets/js/plugins/select2.min.js"></script>
    <script src="/user/assets/js/plugins/waypoints.js"></script>
    <script src="/user/assets/js/plugins/counterup.js"></script>
    <script src="/user/assets/js/plugins/jquery.countdown.min.js"></script>
    <script src="/user/assets/js/plugins/images-loaded.js"></script>
    <script src="/user/assets/js/plugins/isotope.js"></script>
    <script src="/user/assets/js/plugins/scrollup.js"></script>
    <script src="/user/assets/js/plugins/jquery.vticker-min.js"></script>
    <script src="/user/assets/js/plugins/jquery.theia.sticky.js"></script>
    <script src="/user/assets/js/plugins/jquery.elevatezoom.js"></script>
    <!-- Template  JS -->
    <script src=".//user/assets/js/main.js?v=3.4"></script>
    <script src=".//user/assets/js/shop.js?v=3.4"></script>

    

<script src="/user/assets/js/userHome.js"></script>
</body>

</html>